<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	layout:decorate="~{layouts/layout1}">
	
<!-- 사용자 CSS 추가 -->
<th:block layout:fragment="css">
<style>
@font-face {
    font-family: Pretendard-Regular;
    src: url('https://cdn.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
}


*{
	margin: 0 auto;
    padding: 0 auto;
    list-style: none;
    border: 0;
    text-decoration: none;
}

.fieldError {
	color: #bd2130;
}

.vocDetail-container {
	text-align: center;
	position: relative;
}

.vocDetail-title {
	margin-bottom: 40px;
	text-align: center;
}

body {
	font-family: Pretendard-Regular;
	font-size: 1rem;
	line-height: 1.5rem;
	color: black;
	letter-spacing: 0.1px;
	word-break: keep-all;
	padding: 50px 5%;
	margin: 0 auto;
}

h4 {
	font-size: 1.3rem;
	line-height: 2rem;
	text-align: center;
}


button {
	display: inline-block;
	height: 50px;
	font-size: 1rem;
	font-weight: bold;
	background: none;
	border-radius: 5px;
	border: 1px solid #aaa;
	transition: 0.4s;
	cursor: pointer;
}

button:hover {
	background: #222;
	color: #fff;
}

input::placeholder, textarea::placeholder {
	color: #888;
}

li {
	list-style: none;
}

*{
	margin: 0 auto;
    padding: 0 auto;
    list-style: none;
    border: 0;
    text-decoration: none;
}

form{
	width: 1100px;
	height: 100%;
}

a {
	text-decoration: none;
}

.detail-header{
	float: left;
	width: 100%;
	border-bottom: 1px solid black;
	padding: 0px 15px 20px;
}

.back-to-list{
	float: right;
	margin-right: 20px;
}

.detail-title{
	padding-top: 20px;
	padding: 50px 13px 27px;
	border-bottom: 1px solid #e2e2e2;
}

.title {
	float: left;
	width: 100%;
}

.view-wrapper{
	width: 100%;
	float: right;
	margin-top: 20px;
	padding-bottom: 20px;
	border-bottom: 1px solid #e2e2e2;
}

.view-date {
	float: right;
    font-size: 12px;
    color: #6b6b6b;
    margin-right: 25px;
    line-height: 1;
}

.view-views{
	float: right;
    font-size: 12px;
    color: #6b6b6b;
    margin-right: 25px;
    line-height: 1;
}

dl {
	position:absolute;
    display: inline-block;
    margin-block-start: 1em;
    margin-block-end: 1em;
    margin-inline-start: 0px;
    margin-inline-end: 0px;
}

dd{
	position:absolute;
	margin-inline-start: 60px;
}

.bodyContent{
	float: left;
	width: 100%;
	text-indent: 25px;
	font-size: 1.2em;
	padding: 30px 0px 30px;
	border-bottom: 1px solid #e2e2e2;
}

pre{
	font-size: 1.3em;
	line-height: 200%;
}

.bodyContent_inner{
	text-overflow: none;
}

.mgb-15 {
	display:block;
	margin: auto;
	margin-bottom: 15px;
}

.image {
	margin-right: 15px;
	height: auto;
	width: 50%;
}

.img {
	width: 100%;
	height: 350px;
}

.group-button{
	width: 100%;
	float: left;
	text-align: center;
	letter-spacing: 3px;
	padding: 40px 0px 40px;
	border-bottom: 1px solid #e2e2e2;
}

.button{
	padding-right: 30px;
}

.download{
	float: left;
	width: 100%;
	padding: 15px 0px 25px;
	border-bottom: 1px solid #e2e2e2;
}

.download_text{
	width: 100%;
	line-height: 50px;
}

.download_inner{
	width: 100%;
	display: block;
}

.inner_text{
	width: 100%;
	margin: 30px 20px 30px;
}


</style>
</th:block>
	
	
	
<meta charset="UTF-8">
<head>

<link th:href="@{/css/vocDetail.css}" rel="stylesheet">
</head>

<th:block layout:fragment="script">
	
	<script th:inline="javascript">
		$(document).ready(function(){
			$("#succSubmit").on("click", function(){
				if(confirm('글을 삭제하시겠습니까?')){
					alert("글을 삭제하였습니다.");	
				} else {
					return false;
				}
			});
		});
	</script>
		
</th:block>

<div layout:fragment="content">

	<form method="get" action="/voc/detail" role="form">
		<input type="hidden" id="num" th:value="${voc.num}">
		
		<div class="detail-header">
			<h1>VOC 고객의 소리</h1>
		</div>
		
		<div class="title-wrapper">
			<div class="group-detail title">
				<h1 class="detail-title" th:text="${voc.name}"></h1>
			</div>
		</div>
		<div class="view-wrapper">
			<div >
				<span class="view-date"  th:text="${#temporals.format(voc.regTime, 'yyyy-MM-dd')}"></span>
				<span class="view-views" th:text="${voc.cnt}"></span>
				<span class="view-views vie">view</span>
			</div>
		</div>
			
		<div>
			<div class="bodyContent">
				<!-- 내용 : &nbsp; -->
				<pre><span class="bodyContent_inner" th:text="${voc.content}"></span></pre>	
			</div>
		</div>
		
		<div>
			<div class="group-button">
			<span class="button">
				<a th:href="@{/voc/update/{num}(num=${voc.num})}" class="voc-update" id="btn">수정</a>
			</span>
		
			<span class="button">
				<a th:href="@{/voc/list/}">돌아가기</a>
			</span>
		
			<span class="button">
				<a sec:authorize="hasAnyAuthority('ROLE_ADMIN')" th:href="@{/voc/delete/{num}(num=${voc.num})}" class="voc-delete" id="succSubmit">삭제하기</a>
				
			</span>
			</div>
		</div>
		
		<div>
			<div class="download">
				<span class="download_text">다운로드</span>
				<span class="download_inner" th:each="attach : ${voc.attachDtoList}">
				
					<a th:href="@{/voc/download/{num}(num=${attach.num})}" th:text="${attach.oriName}"></a>
				</span>
			</div>
		</div>
		
		<!-- 고쳐야돼 -->
		<div class="detailPrev">
			<ul class="detailPrev_inner">
				<li>
					<a th:href="@{/voc/detail/{num}(num=${voc.num-1})}">
						<span th:if="${voc.num-1 != 0}">
							<span class="detailPrev inner_text" th:if="${vocFormDto.allNoticeCnt >= vocFormDto.num}">이전글</span>
							<span class="detailPrev inner_text" th:text="${vocFormDto.prevContent}"></span>
						</span>
					</a>
				</li>
				<a th:href="@{/voc/list/}}" class="back-to-list">목록</a>
				<li>
					<a th:href="@{/voc/detail/{num}(num=${voc.num+1})}">
						<span class="detailNext inner_text" th:if="${vocFormDto.allNoticeCnt > vocFormDto.num}">다음글</span>
						
						<span class="detailNext inner_text" th:text="${vocFormDto.nextContent}"></span>
					</a>
				</li>
				 
			</ul>
		</div>
		
		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
	</form>
</div>

</html>